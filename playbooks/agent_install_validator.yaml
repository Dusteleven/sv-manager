---
- name: Configure and install solana validator
  hosts: all
  become: yes
  vars:
    jito_validator: false
  roles:
    - vars_shortcode_mapping
    - solana_config
    - solana_validator_stop
    - name: configure_ubuntu
      tags:
        - configure.os
    - name: solana_cli
      tags:
        - cli
        - cli.install
        - cli.update
      when: not jito_validator|bool
    - name: solana_cli_jito
      tags:
        - cli
        - cli.install
        - cli.update
      when: jito_validator|bool
    - name: solana_validator_bootstrap
      tags:
        - validator_bootstrap
    - monitoring